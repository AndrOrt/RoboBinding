<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<meta name="keywords" content="presentation model, android mvc, mvvm, mvp, android, binding, android binding, android-binding, Bindroid, MvvmCross, android mvvm" />
<title>Getting Started</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}

/*
 * Extra Custom Styles.
 *
 * */

  #menu {
    padding: 0.5em;
    padding-bottom: 1.5em;
    margin: 0;
    overflow: auto;
    border-right: 3px solid #f8f8f8;
    background-color: #d5e3aa;
  }

  .menuitem {
    padding: 0.5em;
  }
.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #808080 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0040D0 } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
<!-- google analytics start -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51108408-2', 'robobinding.github.io');
  ga('send', 'pageview');

</script>
<!-- google analytics end -->
</head>
<body class="article">
        <h1><span class="image">
        <img src="images/robobinding_logo.png" alt="RoboBinding logo" width="40" height="40" title="RoboBinding" />
        </span> RoboBinding
        <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
        <a href="https://twitter.com/robobinding" class="twitter-follow-button" data-show-count="false">Follow @robobinding</a>
        <iframe src="http://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Frobobinding&amp;width&amp;layout=button_count&amp;action=like&amp;show_faces=true&amp;share=false&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; height:21px;" allowTransparency="true"></iframe>
        </h1>

        <div id="menu">
                <a href="index.html" class="menuitem">Home</a>
                <a href="getting_started.html" class="menuitem">Getting Started</a>
                <a href="insight_into_framework.html" class="menuitem">Insight Into Framework</a>
                <a href="https://oss.sonatype.org/service/local/repositories/releases/archive/org/robobinding/robobinding/0.8.10/robobinding-0.8.10-javadoc.jar/!/index.html" class="menuitem">API and Binding Attributes JavaDocs</a>
                <a href="about.html" class="menuitem">About</a>
                <a href="versions.html" class="menuitem">Versions</a>
                <a href="index.zh.html" class="menuitem">Chinese中文</a>
        </div>
<div id="header">
<h1>Getting Started</h1>
<span id="revnumber">version 0.8.10</span>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_what_is_robobinding">1. What is RoboBinding?</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>Bind the gap</strong> - RoboBinding is a data-binding <a href="http://martinfowler.com/eaaDev/PresentationModel.html">Presentation Model</a> framework for the Android platform. RoboBinding helps you write UI code that is easier to read, test and maintain.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_hello_androidmvvm_presentation_model">2. Hello AndroidMVVM(Presentation Model)</h2>
<div class="sectionbody">
<div class="paragraph"><p>An activity based on RoboBinding consists of third parts: layout xml, activity class and presentaton model class.
The sample code for the section is from <a href="https://github.com/RoboBinding/AndroidMVVM">AndroidMVVM</a>.</p></div>
<div class="sect2">
<h3 id="_layout">2.1. Layout</h3>
<div class="paragraph"><p>In layout files, we declare RoboBinding namespace, property and event attribute bindings.</p></div>
<div class="paragraph"><p>activity_main.xml</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class="na">xmlns:tools=</span><span class="s">&quot;http://schemas.android.com/tools&quot;</span>
    <span class="na">xmlns:bind=</span><span class="s">&quot;http://robobinding.org/android&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;TextView</span>
        <span class="na">bind:text=</span><span class="s">&quot;{hello}&quot;</span> <span class="nt">/&gt;</span>
        ...
    <span class="nt">&lt;Button</span>
        <span class="na">android:text=</span><span class="s">&quot;Say Hello&quot;</span>
        <span class="na">bind:onClick=</span><span class="s">&quot;sayHello&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</pre></div></div></div>
</div>
<div class="sect2">
<h3 id="_presentation_model_pure_pojo">2.2. Presentation Model(pure POJO)</h3>
<div class="paragraph"><p>In presentation models, we declare corresponding properties and methods.</p></div>
<div class="paragraph"><p>org.robobinding.androidmvvm.PresentationModel.java</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nd">@org.robobinding.annotation.PresentationModel</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PresentationModel</span> <span class="kd">implements</span> <span class="n">HasPresentationModelChangeSupport</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getHello</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span> <span class="o">+</span> <span class="s">&quot;: hello Android MVVM(Presentation Model)!&quot;</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="o">...</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sayHello</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">firePropertyChange</span><span class="o">(</span><span class="s">&quot;hello&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
</div>
<div class="sect2">
<h3 id="_activity_class">2.3. Activity Class</h3>
<div class="paragraph"><p>Activities bind layouts and presentation models together with the help of RoboBinding.</p></div>
<div class="paragraph"><p>org.robobinding.androidmvvm.MainActivity.java</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">...</span>
        <span class="n">PresentationModel</span> <span class="n">presentationModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PresentationModel</span><span class="o">();</span>
        <span class="n">View</span> <span class="n">rootView</span> <span class="o">=</span> <span class="n">Binders</span><span class="o">.</span><span class="na">inflateAndBindWithoutPreInitializingViews</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">,</span> <span class="n">presentationModel</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">rootView</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>The simplest AndroidMVVM is done. We use the utility class <code>Binders</code> for simplicity here.
In read-world application development, we recommend using <code>org.robobinding.binder.BinderFactoryBuilder</code> instead.
We can keep the BinderFactory instance in Android application or let a third-party library like <a href="https://github.com/roboguice/roboguice">RoboGuice</a> manage the BinderFactory instance,
so that we can share and reuse the instance across the whole application.</p></div>
</div>
<div class="sect2">
<h3 id="_introduction_videos">2.4. Introduction videos</h3>
<div class="ulist"><ul>
<li>
<p>
<code>Feb 2012</code> A video of a talk on RoboBinding by Robert Taylor at SkillsMatter, London can be found <a href="http://skillsmatter.com/podcast/os-mobile-server/core-dev-talk-robobinding">here</a>.
</p>
</li>
<li>
<p>
<code>July 2014</code> A video of a talk <code>in Chinese</code> on RoboBinding by Cheng Wei can be found <a href="https://www.youtube.com/watch?v=2sSBVaX77xA">here</a>.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_environment_setup">3. Environment Setup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_eclipse">3.1. Eclipse</h3>
<div class="paragraph"><p>Install <a href="http://eclipse.org/">Eclipse</a>.</p></div>
<div class="sect3">
<h4 id="_without_aspectj">3.1.1. Without AspectJ</h4>
<div class="paragraph"><p>Add the <em>robobinding-[version]-with-dependencies.jar</em> or <em>robobinding-[version].jar + [google guava]-[11.0.1+].jar</em> to the libs folder of your project, then add it(or them) to classpath by right-clicking on the project→Properties→Java Build Path→Libraries→Add JARs.
In Order and Export tab, check the jar(or jars).</p></div>
<div class="imageblock">
<div class="content">
<img src="./images/eclipse_build_settings.png" alt="Eclipse build settings" />
</div>
<div class="title">Figure 1. Project build settings(An example using robobinding-[version]-with-dependencies.jar)</div>
</div>
</div>
<div class="sect3">
<h4 id="_with_aspectj">3.1.2. With AspectJ</h4>
<div class="paragraph"><p>RoboBinding aspects will reduce the work by auto weaving in some source code for us.
If we want to take the advantage, firstly get <a href="http://developer.android.com/tools/sdk/eclipse-adt.html">Android Development Tools</a> plugin installed.
Once having it installed, right-click on the project→Configure→Convert to AspectJ Project. This will add the AspectJ natures to .project file.</p></div>
<div class="paragraph"><p>Start by adding either the <em>robobinding-[version]-with-aop-and-dependencies.jar</em> or the <em>robobinding-[version]-with-aop.jar + [google guava]-[11.0.1+].jar</em> to the libs folder of your project,
then add it(or them) to classpath by right-clicking on the project→Properties→Java Build Path→Libraries→Add JARs.
In Order and Export tab, check it(them).</p></div>
<div class="paragraph"><p>Finally, make sure the RoboBinding jar is added to your project Aspect Path. Right click on your project→Properties→AspectJ Build→Aspect Path→Add JARs.</p></div>
<div class="imageblock">
<div class="content">
<img src="./images/eclipse_aspectj_settings.png" alt="Aspectj settings" />
</div>
<div class="title">Figure 2. AspectJ settings(An example using robobinding-[version]-with-aop-and-dependencies.jar)</div>
</div>
</div>
<div class="sect3">
<h4 id="_annotaton_processing_settings">3.1.3. Annotaton Processing Settings</h4>
<div class="paragraph"><p>Download RoboBinding codegen-[version]-with-dependencies.jar and update eclipse annotation processing settings as the following picture indicated.
codegen-XX.jar is for source code generation only. Projects do not depend on it.</p></div>
<div class="imageblock">
<div class="content">
<img src="./images/eclipse_annotation_processing_settings.png" alt="Annotation processing settings" />
</div>
<div class="title">Figure 3. Annotaton processing settings</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_android_studio">3.2. Android Studio</h3>
<div class="sect3">
<h4 id="_without_aspectj_2">3.2.1. Without AspectJ</h4>
<div class="paragraph"><p>Add robobinding dependencies to gradle.build.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="n">dependencies</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="n">compile</span><span class="s2">&quot;org.robobinding:robobinding:${robobindingVersion}&quot;</span>

    <span class="c1">//alternatively we can use with-dependencies jar(RoboBinding provide a minimal Proguarded with-dependencies jar.).</span>
    <span class="n">compile</span><span class="o">(</span><span class="s2">&quot;org.robobinding:robobinding:${robobindingVersion}:with-dependencies&quot;</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">exclude</span> <span class="nl">group:</span> <span class="s1">&#39;com.google.guava&#39;</span><span class="o">,</span> <span class="nl">module:</span> <span class="s1">&#39;guava&#39;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>Please feel free to refer to the sample projects under <a href="https://github.com/RoboBinding">RoboBinding</a>, e.g., AndroidMVVM, RoboBinding-album-sample or RoboBinding-gallery.</p></div>
</div>
<div class="sect3">
<h4 id="_with_aspectj_2">3.2.2. With AspectJ</h4>
<div class="paragraph"><p>Apply <code>RoboBinding Android aspectj plugin</code> in gradle.build.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="n">buildscript</span> <span class="o">{</span>
    <span class="n">repositories</span> <span class="o">{</span>
        <span class="o">...</span>
        <span class="n">maven</span><span class="o">()</span> <span class="o">{</span>
            <span class="n">name</span> <span class="s1">&#39;RoboBinding AspectJPlugin Maven Repository&#39;</span>
            <span class="n">url</span> <span class="s2">&quot;https://github.com/RoboBinding/RoboBinding-aspectj-plugin/raw/master/mavenRepo&quot;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="n">dependencies</span> <span class="o">{</span>
        <span class="o">...</span>
        <span class="n">classpath</span> <span class="s1">&#39;org.robobinding:aspectj-plugin:0.8.+&#39;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="o">...</span>
<span class="n">apply</span> <span class="nl">plugin:</span> <span class="s1">&#39;org.robobinding.android-aspectj&#39;</span>
</pre></div></div></div>
<div class="paragraph"><p>Add RoboBinding dependencies to gradle.build.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="n">dependencies</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="n">compile</span> <span class="s2">&quot;org.robobinding:robobinding:$robobindingVersion&quot;</span>
    <span class="n">aspectPath</span> <span class="s2">&quot;org.robobinding:robobinding:$robobindingVersion&quot;</span>

    <span class="c1">//alternatively we can use with-aop-and-dependencies jar(RoboBinding provides a minimal Proguarded with-aop-and-dependencies jar.).</span>
    <span class="n">compile</span> <span class="o">(</span><span class="s2">&quot;org.robobinding:robobinding:$robobindingVersion:with-aop-and-dependencies&quot;</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">exclude</span> <span class="nl">group:</span> <span class="s1">&#39;com.google.guava&#39;</span><span class="o">,</span> <span class="nl">module:</span> <span class="s1">&#39;guava&#39;</span>
    <span class="o">}</span>
    <span class="n">aspectPath</span> <span class="o">(</span><span class="s2">&quot;org.robobinding:robobinding:$robobindingVersion:with-aop-and-dependencies&quot;</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">exclude</span> <span class="nl">group:</span> <span class="s1">&#39;com.google.guava&#39;</span><span class="o">,</span> <span class="nl">module:</span> <span class="s1">&#39;guava&#39;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>Please feel free to refer to the sample projects under <a href="https://github.com/RoboBinding">RoboBinding</a>, e.g., RoboBinding-album-sample or RoboBinding-gallery.</p></div>
</div>
<div class="sect3">
<h4 id="_annotation_processing_settings">3.2.3. Annotation Processing Settings</h4>
<div class="paragraph"><p>Add apt plugin to gradle.build.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="n">buildscript</span> <span class="o">{</span>
    <span class="n">repositories</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>

    <span class="n">dependencies</span> <span class="o">{</span>
        <span class="o">...</span>
        <span class="n">classpath</span> <span class="s1">&#39;com.neenbedankt.gradle.plugins:android-apt:1.+&#39;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="o">...</span>
<span class="n">apply</span> <span class="nl">plugin:</span> <span class="s1">&#39;com.neenbedankt.android-apt&#39;</span>
</pre></div></div></div>
</div>
</div>
<div class="sect2">
<h3 id="_proguard">3.3. ProGuard</h3>
<div class="paragraph"><p>Preserve public methods of PresentationModels as well as the constructors of generated source code. Additionally, we need to preserve all annotations.</p></div>
<div class="paragraph"><p>To achieve this, add the following directives to your ProGuard configuration:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="p">-</span><span class="ni">keepattributes</span> <span class="o">*</span><span class="nv">Annotation</span><span class="o">*</span><span class="p">,</span><span class="nv">Signature</span>
<span class="p">-</span><span class="ni">keep</span><span class="p">,</span><span class="n">allowobfuscation</span> <span class="p">@</span><span class="n">interface</span> <span class="n">org</span><span class="p">.</span><span class="n">robobinding</span><span class="p">.</span><span class="n">annotation</span><span class="p">.</span><span class="nv">PresentationModel</span>

<span class="p">-</span><span class="ni">keep</span> <span class="p">@</span><span class="n">org</span><span class="p">.</span><span class="n">robobinding</span><span class="p">.</span><span class="n">annotation</span><span class="p">.</span><span class="nv">PresentationModel</span> <span class="n">class</span> <span class="o">*</span> <span class="p">{</span>
    <span class="n">public</span> <span class="o">***</span> <span class="o">*</span><span class="p">(...);</span>
<span class="p">}</span>

<span class="p">-</span><span class="ni">keep</span> <span class="n">class</span> <span class="o">*</span> <span class="n">implements</span> <span class="n">org</span><span class="p">.</span><span class="n">robobinding</span><span class="p">.</span><span class="n">itempresentationmodel</span><span class="p">.</span><span class="nv">ItemPresentationModel</span><span class="p">{</span>
    <span class="n">public</span> <span class="o">***</span> <span class="o">*</span><span class="p">(...);</span>
<span class="p">}</span>

<span class="p">-</span><span class="ni">keep</span> <span class="n">class</span> <span class="o">*</span> <span class="n">extends</span> <span class="n">org</span><span class="p">.</span><span class="n">robobinding</span><span class="p">.</span><span class="n">presentationmodel</span><span class="p">.</span><span class="nv">AbstractPresentationModelObject</span><span class="p">{</span>
    <span class="n">public</span> <span class="o">&lt;</span><span class="n">init</span><span class="o">&gt;</span><span class="p">(...);</span>
<span class="p">}</span>

<span class="p">-</span><span class="ni">keep</span> <span class="n">class</span> <span class="o">*</span> <span class="n">extends</span> <span class="n">org</span><span class="p">.</span><span class="n">robobinding</span><span class="p">.</span><span class="n">presentationmodel</span><span class="p">.</span><span class="nv">AbstractItemPresentationModelObject</span><span class="p">{</span>
    <span class="n">public</span> <span class="o">&lt;</span><span class="n">init</span><span class="o">&gt;</span><span class="p">(...);</span>
<span class="p">}</span>
</pre></div></div></div>
<div class="paragraph"><p>And add the following lines also to keep the constructors of view listeners.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="p">-</span><span class="ni">keepclassmembers</span> <span class="n">class</span> <span class="o">*</span> <span class="n">implements</span> <span class="n">org</span><span class="p">.</span><span class="n">robobinding</span><span class="p">.</span><span class="n">viewattribute</span><span class="p">.</span><span class="nv">ViewListeners</span> <span class="p">{</span>
    <span class="n">public</span> <span class="o">&lt;</span><span class="n">init</span><span class="o">&gt;</span><span class="p">(...);</span>
<span class="p">}</span>
</pre></div></div></div>
<div class="paragraph"><p>And add the following lines to suppress google guava javax.annotation.XX reference warnings.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="p">-</span><span class="ni">dontwarn</span> <span class="n">javax</span><span class="p">.</span><span class="n">annotation</span><span class="p">.</span><span class="o">**</span>
</pre></div></div></div>
<div class="paragraph"><p>An example of proguard rules settings can be found in RoboBinding-album-sample under <a href="https://github.com/RoboBinding/">RoboBinding organization</a>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts_and_features">4. Concepts and Features</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/robobinding_based_app.png" alt="robobinding_based_app.png" />
</div>
<div class="title">Figure 4. A RoboBinding-based Android application</div>
</div>
<div class="paragraph"><p>An Android application contains several Activities and other elements. In a RoboBinding-based Android application, an Activity contains an Activity class, a layout xml and a PresentationModel pojo
(Whereas in an ordinary Android application, an Activity contains only an Activity class and a layout xml). The display logic, which was originally sit inside the Activity class, is extracted into a separate PresentationModel pojo.
Activities will utilize RoboBinding to bind layouts to their corresponding display logic PresentationModels. The display data of a layout is bound to the properties of a PresentationModel,
 while the view events of a layout are bound to the methods of a PresentationModel. RoboBinding helps to reduce or remove the UI code in original Activity class through simple binding declarations in layout files.
 Ideally a PresentationModel only contains UI display logic, not UI code or UI wiring code, and can be tested independently and easily.</p></div>
<div class="paragraph"><p>The sample code for the section is from <a href="https://github.com/RoboBinding/RoboBinding-gallery/">Robobinding Gallery</a>.</p></div>
<div class="sect2">
<h3 id="_one_way_property_binding">4.1. One-way property binding</h3>
<div class="paragraph"><p>When we bind to a property on the presentation model, any changes made to that property are automatically propagated to the view.</p></div>
<div class="paragraph"><p>activity_view.xml</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nt">&lt;TextView</span>
    <span class="na">bind:visibility=</span><span class="s">&quot;{integerVisibility}&quot;</span><span class="nt">/&gt;</span>
</pre></div></div></div>
<div class="paragraph"><p>ViewPresentationModel.java</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">getIntegerVisibility</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">integerVisibilityRotation</span><span class="o">.</span><span class="na">value</span><span class="o">();</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>RoboBinding adheres to the JavaBeans specification whereby to expose properties, we provide public getters and setters.
With one-way binding, only getters are required, as the changes from view are not updated back to presentation models.
For supported UI binding attributes, please refer to <code>API and Binding Attributes JavaDocs</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_two_way_property_binding">4.2. Two-way property binding</h3>
<div class="paragraph"><p>Two-way binding takes property binding one step further, and ensures that as well as propagating changes from the presentation model to the view, any changes to the view are also synched back to the presentation model.</p></div>
<div class="paragraph"><p>EditText fields are one of the UI elements that support two-way binding. In this case, whenever a text change is made by the user, the presentation model is updated accordingly.</p></div>
<div class="paragraph"><p>To use two-way binding, we simply prepend a dollar ($) sign before the curly braces we used in our one-way binding declaration, like so:</p></div>
<div class="paragraph"><p>activity_edittext.xml</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nt">&lt;EditText</span>
    <span class="na">bind:text=</span><span class="s">&quot;${text}&quot;</span><span class="nt">/&gt;</span>
</pre></div></div></div>
<div class="paragraph"><p>That&#8217;s the only thing we have to do. Note that in the case of two-way binding, we would need to have given RoboBinding write-access to the property, so supplying a setter method on our presentation model is compulsory.</p></div>
<div class="paragraph"><p>org.robobinding.gallery.presentationmodel.EditTextPresentationModel.java</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nd">@PresentationModel</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EditTextPresentationModel</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">text</span><span class="o">;</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getText</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">text</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setText</span><span class="o">(</span><span class="n">String</span> <span class="n">text</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
</div>
<div class="sect2">
<h3 id="_event_handling">4.3. Event handling</h3>
<div class="paragraph"><p>Bind view events to presentation model methods.</p></div>
<div class="paragraph"><p>activity_gallery.xml</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nt">&lt;Button</span>
    <span class="na">bind:onClick=</span><span class="s">&quot;showDemo&quot;</span><span class="nt">/&gt;</span>
</pre></div></div></div>
<div class="paragraph"><p>org.robobinding.gallery.presentationmodel.GalleryPresentationModel.java</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nd">@PresentationModel</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GalleryPresentationModel</span>
<span class="o">{</span>
    <span class="o">...</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">showDemo</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>When the onClick event is fired, showDemo() method will be invoked. We can optionally supply an event parameter.
It will be a org.robobinding.widget.view.ClickEvent in this case.</p></div>
<div class="paragraph"><p>For supported UI events, please refer to <code>API and Binding Attributes JavaDocs</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_binding_with_adapterviews">4.4. Binding with AdapterViews</h3>
<div class="paragraph"><p>When binding with AdapterViews, RoboBinding first requires you to expose the underlying data from your presentation model.
This can be in the form of an Array, List or <code>org.robobinding.itempresentationmodel.TypedCursor</code>.</p></div>
<div class="paragraph"><p>As well as providing the data, RoboBinding needs to know the type of presentation model each child view of the AdapterView should bind onto.
We declare this in our code with the @ItemPresentationModel annotation.</p></div>
<div class="paragraph"><p>activity_adapter_view.xml</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nt">&lt;ListView</span>
    <span class="na">bind:itemLayout=</span><span class="s">&quot;@android:layout/simple_list_item_1&quot;</span>
    <span class="na">bind:itemMapping=</span><span class="s">&quot;[text1.text:{value}]&quot;</span>
    <span class="na">bind:source=</span><span class="s">&quot;{dynamicStrings}&quot;</span><span class="nt">/&gt;</span>
</pre></div></div></div>
<div class="paragraph"><p>org.robobinding.gallery.presentationmodel.AdapterViewPresentationModel.java</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nd">@PresentationModel</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AdapterViewPresentationModel</span>
<span class="o">{</span>
    <span class="o">...</span>
    <span class="nd">@ItemPresentationModel</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="n">StringItemPresentationModel</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">getDynamicStrings</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="k">return</span> <span class="n">getSelectedSource</span><span class="o">().</span><span class="na">getSample</span><span class="o">();</span>
    <span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>The class we use for our item presentation model will need to implement the ItemPresentationModel interface, parameterized to the type of data we are displaying at each index.</p></div>
<div class="paragraph"><p>org.robobinding.gallery.presentationmodel.StringItemPresentationModel.java</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">StringItemPresentationModel</span> <span class="kd">implements</span> <span class="n">ItemPresentationModel</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span>
<span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">value</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateData</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">,</span> <span class="n">String</span> <span class="n">bean</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">bean</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getValue</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>We can then define a layout xml that will provide the view for each row in our AdapterView.
In the example, we use the Android predefined item layout simple_list_item_1.xml.
Through <code>bind:itemMapping="[text1.text:{value}]"</code>, we map text1.text from simple_list_item_1.xml to StringItemPresentationModel.value.</p></div>
<div class="paragraph"><p>There is a <code>factoryMethod</code> property in @ItemPresentationModel. When ItemPresentationModels have some external dependencies,
we can add a factoryMethod to PresentationModel so that ItemPresentatonModels are created through the method.
In this way, can can pass any dependencies into ItemPresentatonModels and configure them freely. A simple example is as follows.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nd">@PresentationModel</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PresentationModelSample</span>
<span class="o">{</span>
    <span class="o">...</span>
    <span class="nd">@ItemPresentationModel</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="n">ItemPresentationModelSample</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">factoryMethod</span><span class="o">=</span><span class="s">&quot;createItemPresentationModelSample&quot;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">getDynamicStrings</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="k">return</span> <span class="n">getSelectedSource</span><span class="o">().</span><span class="na">getSample</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">ItemPresentationModelSample</span> <span class="nf">createItemPresentationModelSample</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">ItemPresentationModelSample</span><span class="o">(</span><span class="n">dependency1</span><span class="o">,</span> <span class="n">dependency2</span><span class="o">,</span> <span class="o">...);</span>
    <span class="o">}</span>
</pre></div></div></div>
</div>
<div class="sect2">
<h3 id="_featherweight_relational_cursor_to_object_cursor_mapping">4.5. Featherweight relational cursor to object cursor mapping</h3>
<div class="paragraph"><p>In <code>Binding with AdapterViews</code>, we mentioned a data source type - <code>org.robobinding.itempresentationmodel.TypedCursor</code>.
As we are so used to operating objects over relational data and want to isolate the code that involves relational database operations, RoboBinding added a featherweight object Cursor - TypedCursor.
Through org.robobinding.itempresentationmodel.RowMapper&lt;T&gt;, we translate a row of relational data into an object.</p></div>
<div class="paragraph"><p>org.robobinding.gallery.presentationmodel.TypedCursorPresentationModel.java</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nd">@PresentationModel</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TypedCursorPresentationModel</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="nd">@ItemPresentationModel</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="n">ProductItemPresentationModel</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">TypedCursor</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span> <span class="nf">getProducts</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">allProductsQuery</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">db</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>org.robobinding.gallery.model.typedcursor.GetAllQuery.java</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GetAllQuery</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span>
<span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">tableName</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">RowMapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">rowMapper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">GetAllQuery</span><span class="o">(</span><span class="n">String</span> <span class="n">tableName</span><span class="o">,</span> <span class="n">RowMapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">rowMapper</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="o">...</span>
        <span class="k">this</span><span class="o">.</span><span class="na">tableName</span> <span class="o">=</span> <span class="n">tableName</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">rowMapper</span> <span class="o">=</span> <span class="n">rowMapper</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">TypedCursor</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">execute</span><span class="o">(</span><span class="n">SQLiteDatabase</span> <span class="n">db</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="n">Cursor</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="na">query</span><span class="o">(</span>
                <span class="n">tableName</span><span class="o">,</span>
                <span class="kc">null</span><span class="o">,</span>
                <span class="kc">null</span><span class="o">,</span>
                <span class="kc">null</span><span class="o">,</span>
                <span class="kc">null</span><span class="o">,</span>
                <span class="kc">null</span><span class="o">,</span>
                <span class="n">BaseColumns</span><span class="o">.</span><span class="na">_ID</span><span class="o">+</span><span class="s">&quot; ASC&quot;</span><span class="o">);</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">TypedCursorAdapter</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;(</span><span class="n">cursor</span><span class="o">,</span> <span class="n">rowMapper</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>org.robobinding.gallery.model.typedcursor.ProductRowMapper.java</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ProductRowMapper</span> <span class="kd">implements</span> <span class="n">RowMapper</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Product</span> <span class="nf">mapRow</span><span class="o">(</span><span class="n">Cursor</span> <span class="n">cursor</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">ProductTable</span><span class="o">.</span><span class="na">NAME</span><span class="o">));</span>
        <span class="n">String</span> <span class="n">description</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">ProductTable</span><span class="o">.</span><span class="na">DESCRIPTION</span><span class="o">));</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Product</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">description</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></div></div></div>
</div>
<div class="sect2">
<h3 id="_menu_binding">4.6. Menu Binding</h3>
<div class="paragraph"><p>Bind menu resources in res/menu to Presentation Models. Let us have a look at a simple example below.</p></div>
<div class="paragraph"><p>res/menu/context_menu.xml</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nt">&lt;menu</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class="na">xmlns:bind=</span><span class="s">&quot;http://robobinding.org/android&quot;</span>
    <span class="na">xmlns:app=</span><span class="s">&quot;http://schemas.android.com/apk/res-auto&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">android:title=</span><span class="s">&quot;Delete Product&quot;</span>
          <span class="na">bind:onMenuItemClick=</span><span class="s">&quot;deleteProduct&quot;</span>
          <span class="na">android:id=</span><span class="s">&quot;@+id/deleteProduct&quot;</span>
          <span class="na">app:showAsAction=</span><span class="s">&quot;always&quot;</span><span class="nt">/&gt;</span>

<span class="nt">&lt;/menu&gt;</span>
</pre></div></div></div>
<div class="paragraph"><p>org.robobinding.gallery.presentationmodel.ContextMenuPresentationModel.java</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nd">@PresentationModel</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ContextMenuPresentationModel</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteProduct</span><span class="o">(</span><span class="n">MenuItem</span> <span class="n">menuItem</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
</div>
<div class="sect2">
<h3 id="_presentation_models">4.7. Presentation Models</h3>
<div class="paragraph"><p>We annotate each PresentationModel with @org.robobinding.annotation.PresentationModel.
When a org.robobinding.presentationmodel.PresentationModelChangeSupport is needed in a PresentationModel,
the PresentationModel has to implement org.robobinding.presentationmodel.HasPresentationModelChangeSupport interface,
so that the framework can use the same PresentationModelChangeSupport instance internally.</p></div>
<div class="paragraph"><p>There are two ways to implement a Presentation Model, namely with AspectJ and without AspectJ. Below is the comparison.</p></div>
<div class="sect3">
<h4 id="_without_aspectj_3">4.7.1. Without AspectJ</h4>
<div class="ulist"><ul>
<li>
<p>
Use robobinding-[version].jar or robobinding-[version]-with-dependencies.jar
</p>
</li>
<li>
<p>
The advantage is that there is no extra dependency on AspectJ, which keeps the final apk relatively small.
</p>
</li>
<li>
<p>
The disadvantage is we need to type every firePropertyChange("propertyName") manually.
</p>
</li>
</ul></div>
<div class="paragraph"><p><a href="https://github.com/RoboBinding/AndroidMVVM">AndroidMVVM</a> and <a href="https://github.com/RoboBinding/Android-CleanArchitecture">Android-CleanArchitecture</a> are the examples without AspectJ.</p></div>
</div>
<div class="sect3">
<h4 id="_with_aspectj_3">4.7.2. With AspectJ</h4>
<div class="ulist"><ul>
<li>
<p>
Use robobinding-[version]-with-aop.jar or robobinding-[version]-with-aop-and-dependencies.jar
</p>
</li>
<li>
<p>
The advantage is that many firePropertyChange("propertyName") are auto-generated.
</p>
</li>
<li>
<p>
The disadvantage is that there is a dependency on AspectJ Runtime Library, which slightly increases the size of the final apk.
</p>
</li>
</ul></div>
<div class="paragraph"><p><a href="https://github.com/RoboBinding/RoboBinding-album-sample">Album Sample</a> and <a href="https://github.com/RoboBinding/RoboBinding-gallery">Gallery</a> are the examples with AspectJ.</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_own_view_binding_implementation">5. Create own view binding implementation</h2>
<div class="sectionbody">
<div class="paragraph"><p>The sample code for the section is from <a href="https://github.com/RoboBinding/RoboBinding-gallery/">Robobinding Gallery</a>.</p></div>
<div class="sect2">
<h3 id="_simple_one_way_binding_attributes">5.1. Simple one-way binding attributes</h3>
<div class="paragraph"><p>We add <em>enabled</em> attribute binding for Android.View for example
- <a href="https://github.com/RoboBinding/RoboBinding-gallery/blob/master/app/src/main/java/org/robobinding/gallery/activity/ViewBindingForView.java">source code</a>.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nd">@ViewBinding</span><span class="o">(</span><span class="n">simpleOneWayProperties</span> <span class="o">=</span> <span class="o">{</span><span class="s">&quot;enabled&quot;</span><span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ViewBindingForView</span> <span class="kd">extends</span> <span class="n">CustomViewBinding</span><span class="o">&lt;</span><span class="n">View</span><span class="o">&gt;</span> <span class="o">{</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>Then add it to BinderFactoryBuilder
- <a href="https://github.com/RoboBinding/RoboBinding-gallery/blob/master/app/src/main/java/org/robobinding/gallery/activity/GalleryApp.java">source code</a>.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="k">new</span> <span class="n">BinderFactoryBuilder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">ViewBindingForView</span><span class="o">().</span><span class="na">extend</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</pre></div></div></div>
<div class="paragraph"><p>RoboBinding will generate the following for us.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ViewBindingForView$$VB</span> <span class="kd">implements</span> <span class="n">ViewBinding</span><span class="o">&lt;</span><span class="n">View</span><span class="o">&gt;{</span>
    <span class="kd">final</span> <span class="n">ViewBindingForView</span> <span class="n">customViewBinding</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">ViewBindingForView$$VB</span><span class="o">(</span><span class="n">ViewBindingForView</span> <span class="n">customViewBinding</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">customViewBinding</span> <span class="o">=</span> <span class="n">customViewBinding</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mapBindingAttributes</span><span class="o">(</span><span class="n">BindingAttributeMappings</span><span class="o">&lt;</span><span class="n">View</span><span class="o">&gt;</span> <span class="n">mappings</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">mappings</span><span class="o">.</span><span class="na">mapOneWayProperty</span><span class="o">(</span><span class="n">ViewBindingForView$$VB</span><span class="o">.</span><span class="na">EnabledAttribute</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">&quot;enabled&quot;</span><span class="o">);</span>
        <span class="n">customViewBinding</span><span class="o">.</span><span class="na">mapBindingAttributes</span><span class="o">(</span><span class="n">mappings</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">EnabledAttribute</span> <span class="kd">implements</span> <span class="n">OneWayPropertyViewAttribute</span><span class="o">&lt;</span><span class="n">View</span><span class="o">,</span> <span class="n">Boolean</span><span class="o">&gt;</span>
    <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateView</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">,</span> <span class="n">Boolean</span> <span class="n">newValue</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">view</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="n">newValue</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>All bindings are static, which means no performance impact.</p></div>
</div>
<div class="sect2">
<h3 id="_other_types_of_bindings">5.2. Other types of bindings</h3>
<div class="paragraph"><p>Except for simple one-way attribute binding, there are event binding, multi-typed attribute binding, and grouped attribute binding.
To implement these bindings, we will extend CustomViewBinding and implement them manually. Take event binding as an example below.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nd">@ViewBinding</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyCustomViewBinding</span> <span class="kd">extends</span> <span class="n">CustomViewBinding</span><span class="o">&lt;</span><span class="n">CustomView</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mapBindingAttributes</span><span class="o">(</span><span class="n">BindingAttributeMappings</span><span class="o">&lt;</span><span class="n">CustomView</span><span class="o">&gt;</span> <span class="n">mappings</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">mappings</span><span class="o">.</span><span class="na">mapEvent</span><span class="o">(</span><span class="n">OnCustomEventAttribute</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">&quot;onCustomEvent&quot;</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">OnCustomEventAttribute</span> <span class="kd">implements</span> <span class="n">EventViewAttributeForView</span> <span class="o">{</span>
    <span class="o">...</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>For these bindings, you can always refer to RoboBinding implemenations
- <a href="https://github.com/RoboBinding/RoboBinding/tree/develop/framework/src/main/java/org/robobinding/widget">source code under widget package</a>.</p></div>
</div>
<div class="sect2">
<h3 id="_custom_component_or_third_party_component">5.3. Custom component or third-party component</h3>
<div class="paragraph"><p>We can create view bindings for any custom components, third-party components or Android widgets to make them easier for use.
In RoboBinding, the way to create an view binding implementation is consistent.</p></div>
<div class="imageblock">
<div class="content">
<img src="./images/custom_component.png" alt="custom_component.png" />
</div>
<div class="title">Figure 5. custom Title Description Bar</div>
</div>
<div class="paragraph"><p>Let us take a simple custom component, the view with white border above, as an example. The component consists of a title and a description.
After we input new title and description, and click <em>Apply</em>, the component content will be updated accordingly.</p></div>
<div class="paragraph"><p>We want the usage can be <em>as simple as follows</em>:</p></div>
<div class="paragraph"><p>activity_custom_component.xml</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nt">&lt;org.robobinding.gallery.model.customcomponent.TitleDescriptionBar</span>
        <span class="na">bind:title=</span><span class="s">&quot;{title}&quot;</span>
        <span class="na">bind:description=</span><span class="s">&quot;{description}&quot;</span><span class="nt">/&gt;</span>
</pre></div></div></div>
<div class="paragraph"><p>The major part of the source code for TitleDescriptionBar is shown below(for how to implement a custom component,
please refer to <a href="http://developer.android.com/guide/topics/ui/custom-components.html">Android Reference</a>):</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TitleDescriptionBar</span> <span class="kd">extends</span> <span class="n">LinearLayout</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">TextView</span> <span class="n">title</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">TextView</span> <span class="n">description</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">TitleDescriptionBar</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span> <span class="n">AttributeSet</span> <span class="n">attrs</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">attrs</span><span class="o">,</span> <span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">title_description_bar</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">protected</span> <span class="nf">TitleDescriptionBar</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span> <span class="n">AttributeSet</span> <span class="n">attrs</span><span class="o">,</span> <span class="kt">int</span> <span class="n">layoutId</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">attrs</span><span class="o">);</span>

        <span class="n">LayoutInflater</span> <span class="n">inflater</span> <span class="o">=</span> <span class="o">(</span><span class="n">LayoutInflater</span><span class="o">)</span> <span class="n">context</span><span class="o">.</span><span class="na">getSystemService</span><span class="o">(</span><span class="n">Context</span><span class="o">.</span><span class="na">LAYOUT_INFLATER_SERVICE</span><span class="o">);</span>
        <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="n">layoutId</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
        <span class="n">title</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">title</span><span class="o">);</span>
        <span class="n">description</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">description</span><span class="o">);</span>
        <span class="o">...</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTitle</span><span class="o">(</span><span class="n">CharSequence</span> <span class="n">titleText</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">title</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">titleText</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setDescription</span><span class="o">(</span><span class="n">CharSequence</span> <span class="n">descriptionText</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">description</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">descriptionText</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="paragraph"><p>Its layout <code>title_description_bar.xml</code>:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nt">&lt;merge</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class="na">xmlns:bind=</span><span class="s">&quot;http://robobinding.org/android&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;TextView</span> <span class="na">android:id=</span><span class="s">&quot;@+id/title&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;TextView</span> <span class="na">android:text=</span><span class="s">&quot;: &quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;TextView</span> <span class="na">android:id=</span><span class="s">&quot;@+id/description&quot;</span><span class="nt">/&gt;</span>
</pre></div></div></div>
<div class="sect3">
<h4 id="_implementing_the_binding_attributes">5.3.1. Implementing the binding attributes</h4>
<div class="paragraph"><p>The component has two simple one-way attribute bindings
- <a href="https://github.com/RoboBinding/RoboBinding-gallery/blob/master/app/src/main/java/org/robobinding/gallery/model/customcomponent/TitleDescriptionBarBinding.java">source code</a>.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nd">@ViewBinding</span><span class="o">(</span><span class="n">simpleOneWayProperties</span> <span class="o">=</span> <span class="o">{</span><span class="s">&quot;title&quot;</span><span class="o">,</span> <span class="s">&quot;description&quot;</span><span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TitleDescriptionBarBinding</span> <span class="kd">extends</span> <span class="n">CustomViewBinding</span><span class="o">&lt;</span><span class="n">TitleDescriptionBar</span><span class="o">&gt;</span> <span class="o">{</span>
<span class="o">}</span>
</pre></div></div></div>
</div>
<div class="sect3">
<h4 id="_registering_viewbindings">5.3.2. Registering ViewBindings</h4>
<div class="paragraph"><p>ViewBindings can be registered through org.robobinding.binder.BinderFactoryBuilder
- <a href="https://github.com/RoboBinding/RoboBinding-gallery/blob/master/app/src/main/java/org/robobinding/gallery/activity/CustomComponentActivity.java">source code</a>.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="n">BinderFactory</span> <span class="n">binderFactory</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BinderFactoryBuilder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">TitleDescriptionBarBinding</span><span class="o">().</span><span class="na">forView</span><span class="o">(</span><span class="n">TitleDescriptionBar</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</pre></div></div></div>
<div class="paragraph"><p>It is done. We can create view binding implementations for any third-party components or Android widgets in the same approach.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_replace_an_existing_view_binding_implemenation">5.4. Replace an existing view binding implemenation</h3>
<div class="paragraph"><p>When an existing view binding implementation does not satisfy our requirement, we can register to replace the default implementations from the framework.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="n">BinderFactory</span> <span class="n">binderFactory</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BinderFactoryBuilder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">MyViewBindingForView</span><span class="o">().</span><span class="na">forView</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nd">@ViewBinding</span>
<span class="kd">static</span> <span class="kd">class</span> <span class="nc">MyViewBindingForView</span> <span class="kd">extends</span> <span class="n">CustomViewBinding</span><span class="o">&lt;</span><span class="n">View</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="o">...</span>
<span class="o">}</span>
</pre></div></div></div>
<div class="sect3">
<h4 id="_extend_an_existing_view_binding">5.4.1. Extend an existing view binding</h4>
<div class="paragraph"><p>Extend the existing TextViewBinding and add the attribute binding for typeface.</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="n">BinderFactory</span> <span class="n">binderFactory</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BinderFactoryBuilder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">MyTextViewBinding</span><span class="o">().</span><span class="na">extend</span><span class="o">(</span><span class="n">TextView</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nd">@ViewBinding</span><span class="o">(</span><span class="n">simpleOneWayProperties</span><span class="o">={</span><span class="s">&quot;typeface&quot;</span><span class="o">})</span>
<span class="kd">static</span> <span class="kd">class</span> <span class="nc">MyTextViewBinding</span> <span class="kd">extends</span> <span class="n">CustomViewBinding</span><span class="o">&lt;</span><span class="n">TextView</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="o">...</span>
<span class="o">}</span>
</pre></div></div></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_walk_through_album_sample">6. A Walk through Album Sample</h2>
<div class="sectionbody">
<div class="paragraph"><p>Album Sample project is a translated version of Martin Fowler&#8217;s <a href="http://martinfowler.com/eaaDev/PresentationModel.html">original one</a>.
The source code can be found <a href="https://github.com/RoboBinding/RoboBinding-album-sample">here</a>.</p></div>
<div class="imageblock">
<div class="content">
<img src="./images/album_sample_prototype.png" alt="album_sample_prototype.png" />
</div>
<div class="title">Figure 6. Album Sample project prototype</div>
</div>
<div class="paragraph"><p>In the following section, a package start with <em>.</em> is a relative path to org.robobinding.albumsample.</p></div>
<div class="paragraph"><p>The above is the prototype of the project. The project follows the standard RoboBinding project structure, an Activity comprising of an Activity class, layout xml and presentation model pojo.
Inside the project, you can see the following packages: org.robobinding.albumsample.activity, which contains all Activity classes;
org.robobinding.albumsample.presentationmodel, which contains all presentation models; org.robobinding.albumsample.model, which contains a Album entity implementation;
and org.robobinding.albumsample.store, which contains a AlbumStore implementation based on memory. In the prototype, there are five diagrams, which are described separately below.</p></div>
<div class="paragraph"><p>The diagram [Home Activity] consists of .activity.HomeActivity, home_activity.xml and .presentationmodel.HomePresentationModel.</p></div>
<div class="paragraph"><p>The diagram [View Albums Activity] consists of .activity.ViewAlbumsActivity, view_albums_activity.xml and .presentationmodel.ViewAlbumsPresentationModel;
and the view of each album item is backed by .presentationmodel.AlbumItemPresentationModel and album_row.xml; when the album list is empty, albums_empty_view.xml is applied.</p></div>
<div class="paragraph"><p>The diagram [Create Album Activity] and [Edit Album Activity] share the same components of .activity.CreateEditAlbumActivity, create_edit_album_activity.xml and .presentationmodel.CreateEditAlbumPresentationModel.</p></div>
<div class="paragraph"><p>The diagram [View Album Activity] consists of .activity.ViewAlbumActivity, view_album_activity.xml and .presentationmodel.ViewAlbumPresentationModel;
and its album deletion dialog is backed by .activity.DeleteAlbumDialog, delete_album_dialog.xml and .presentationmodel.DeleteAlbumDialogPresentationModel.</p></div>
<div class="paragraph"><p>Take [View Albums Activity] as an example to give a brief explanation on source code.
The only thing the Activity class, ViewAlbumsActivity, does is to link the Layout view_albums_activity.xml and ViewAlbumsPresentationModel together.
view_albums_activity.xml contains three sub-views a TextView, a ListView and a Button. The TextView does not contain any binding information.
In the ListView, <code>bind:source="{albums}"</code> binds to ViewAlbumsPresentationModel.albums dataset property.
<code>bind:onItemClick="viewAlbum"</code> binds to ViewAlbumsPresentationModel.viewAlbum(ItemClickEvent) method. When an album item is clicked, the method will be invoked.
<code>bind:emptyViewLayout="@layout/albums_empty_view"</code> sets the display when the album list is empty.
<code>bind:itemLayout="@layout/album_row"</code> sets album item row layout, which will be bound to an ItemPresentationModel,
as indicated by the annotation, <code>@ItemPresentationModel(AlbumItemPresentationModel.class)</code>, on top of the ViewAlbumsPresentationModel.albums property.
Inside the row layout file album_row.xml, there are two simple TextViews. Their <code>bind:text="{title}"</code> and <code>bind:text="{artist}"</code> bind to AlbumItemPresentationModel.title/artist respectively.
The last sub-view in view_albums_activity.xml is a Button. Its <code>bind:onClick="createAlbum"</code> binds to ViewAlbumsPresentationModel.createAlbum() method.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_contents_of_gallery_demos">7. Contents of Gallery Demos</h2>
<div class="sectionbody">
<div class="paragraph"><p>The entry classes mentioned below are from the package org.robobinding.gallery.activity of <a href="https://github.com/RoboBinding/RoboBinding-gallery/">Robobinding Gallery</a> project.</p></div>
<div class="ulist"><ul>
<li>
<p>
Binding attributes demo for View. The entry class is <em>ViewActivity</em>.
</p>
</li>
<li>
<p>
Binding attributes demo for EditText. The entry class is <em>EditTextActivity</em>.
</p>
</li>
<li>
<p>
Binding attributes demo for AdapterView. The entry class is <em>AdapterViewActivity</em>.
</p>
</li>
<li>
<p>
Binding attributes demo for ListView. The entry class is <em>ListViewActivity</em>.
</p>
</li>
<li>
<p>
Binding attributes demo for Custom Components. The entry class is <em>CustomComponentActivity</em>.
</p>
</li>
<li>
<p>
Demo for Object Cursor. The entry class is <em>TypedCursorActivity</em>.
</p>
</li>
<li>
<p>
Demo for Fragment &amp; ViewPager Binding. The entry class is <em>ListFragmentDemoActivity</em>.
</p>
</li>
<li>
<p>
Demo for Options Menu Binding. The entry class is <em>OptionsMenuActivity</em>.
</p>
</li>
<li>
<p>
Demo for Context Menu Binding. The entry class is <em>ContextMenuDemoActivity</em>.
</p>
</li>
<li>
<p>
Demo for Contextual Action Mode Binding. The entry class is <em>ContextualActionModeActivity</em>.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_project_structure_and_best_practices">8. Project structure and best practices</h2>
<div class="sectionbody">
<div class="paragraph"><p>Involved from MVC pattern, the major motive of Presentation Model(MVVM) pattern is to further decouple UI state and logic into a pure POJO Presentation Model, which can be
easily Unit tested. Meanwhile, the dependency of View&#8594;Presentation Model&#8594;Model becomes unidirectional.
When applying the pattern, these are the basic rules we will follow. <a href="https://github.com/RoboBinding/RoboBinding">Album Sample</a> is an example that follows the best practices.
Recommend to read Martin Fowler&#8217;s original article on <a href="http://martinfowler.com/eaaDev/PresentationModel.html">Presentation Model</a>.</p></div>
<div class="sect2">
<h3 id="_overall_project_structure">8.1. Overall project structure</h3>
<div class="imageblock">
<div class="content">
<img src="./images/project_structure.png" alt="Project structure" />
</div>
<div class="title">Figure 7. Project structure</div>
</div>
<div class="paragraph"><p>In Android app, the view layer consists of activities(fragments) and their layouts and the model layer(or business model layer) consists of various services,
persistence layer, networking services, business services and so on.
The diagram indicates the dependency between different layers. The view layer for example never directly accesses the business model.</p></div>
</div>
<div class="sect2">
<h3 id="_the_solutions_for_some_common_design_issues">8.2. The solutions for some common design issues</h3>
<div class="ulist"><ul>
<li>
<p>
When we are not using a third-party dependency injection lib, we may instantiate business model objects in Activities and then pass them into presentation models,
 but the view layer(or any activities) will not directly access any business model objects.
</p>
</li>
<li>
<p>
Sometimes presentation models may need to call some functionalities in the view layer. We can add view interfaces in between to decouple the relationship.
Presentation models depends on view interfaces instead of the view layer, which keeps the testability of presentation models.
If you prefer, you can shift these view interfaces into presentation model layer or presentation model package, so that the dependency remains unidirectional.
Let us have a look a simple example below:
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="kd">interface</span> <span class="nc">MainView</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">doSomeViewLogic</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="kd">implements</span> <span class="n">MainView</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">...</span>
        <span class="n">PresentationModel</span> <span class="n">presentationModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PresentationModel</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="o">...</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doSomeViewLogic</span><span class="o">()</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">PresentationModel</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">MainView</span> <span class="n">mainView</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">PresentationModel</span><span class="o">(</span><span class="n">MainView</span> <span class="n">mainView</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">mainView</span> <span class="o">=</span> <span class="n">mainView</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">someEvent</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">mainView</span><span class="o">.</span><span class="na">doSomeViewLogic</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_resources">9. Other resources</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>Jan 2012</strong> Robert Taylor has written a couple of introductory articles <a href="http://roberttaylor426.blogspot.com/2011/11/hello-robobinding-part-1.html">here</a> and <a href="http://roberttaylor426.blogspot.com/2012/01/hello-robobinding-part-2.html">here</a>.</p></div>
<div class="paragraph"><p><strong>Feb 2012</strong> A video of a talk on RoboBinding at SkillsMatter, London can be found <a href="http://skillsmatter.com/podcast/os-mobile-server/core-dev-talk-robobinding">here</a>.</p></div>
<div class="paragraph"><p><strong>Jul 2014</strong> A video of a talk on RoboBinding <em>in Chinese</em> by Cheng Wei can be found <a href="https://www.youtube.com/watch?v=2sSBVaX77xA">here</a>.</p></div>
<div class="paragraph"><p><strong>Sep 2014</strong> A talk at <a href="http://adilmughal.github.io/YOW2014-Android-MVVM/">YOW 2014 Android MVVM</a> by Adil Mughal on <em>Write cleaner, maintainable and testable code in Android using MVVM</em>.</p></div>
<div class="paragraph"><p><strong><a href="https://github.com/RoboBinding/AndroidMVVM">AndroidMVVM</a></strong> A minimal android app with MVVM.</p></div>
<div class="paragraph"><p><strong><a href="https://github.com/RoboBinding/RoboBinding-album-sample">RoboBinding album sample</a></strong> is an Android translation of Martin Fowler&#8217;s original sample code on <a href="http://martinfowler.com/eaaDev/PresentationModel.html">Presentation Model</a> pattern.</p></div>
<div class="paragraph"><p><strong><a href="https://github.com/RoboBinding/RoboBinding-gallery">RoboBinding Gallery</a></strong> demonstrates RoboBinding features.</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Version 0.8.10<br />
Last updated 2015-08-02 10:14:50 澳大利亚东部标准时间
</div>
</div>
</body>
</html>
